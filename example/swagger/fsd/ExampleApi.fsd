// DO NOT EDIT: generated by fsdgenfsd

/// Example service for widgets.
[info(version: 0.0.0)]
[http(url: "http://local.example.com/v1")]
service ExampleApi
{
	[http(method: POST, path: "/kitchen")]
	method kitchen
	{
		sink: KitchenSink;
	}:
	{
	}

	/// Demonstrates the default HTTP behavior.
	[http(method: POST, path: "/notRestful")]
	method notRestful
	{
	}:
	{
	}

	/// Gets a widget preference.
	[http(method: GET, path: "/prefs/{key}")]
	method getPreference
	{
		/// The preference key.
		key: string;
	}:
	{
		/// The preference value.
		[http(from: body, code: 200)]
		value: Preference;
	}

	/// Sets a widget preference.
	[http(method: PUT, path: "/prefs/{key}")]
	method setPreference
	{
		/// The preference key.
		key: string;

		/// The preference value.
		[http(from: body)]
		body: Preference;
	}:
	{
		/// The preference value.
		[http(from: body, code: 200)]
		value: Preference;
	}

	/// Gets widgets.
	[http(method: GET, path: "/widgets", code: 200)]
	method getWidgets
	{
		/// The query.
		[http(name: q)]
		query: string;

		/// The limit of returned results.
		limit: int32;

		/// The sort field.
		sort: string;

		/// True to sort descending.
		desc: boolean;

		/// The maximum weight.
		[obsolete]
		maxWeight: double;
	}:
	{
		/// The widgets.
		widgets: Widget[];

		/// The total number of widgets.
		total: int64;

		/// The total weight.
		[obsolete]
		totalWeight: double;

		/// The pending job.
		[http(from: body, code: 202)]
		job: WidgetJob;
	}

	/// Creates a new widget.
	[http(method: POST, path: "/widgets/")]
	method createWidget
	{
		/// The widget to create.
		[http(from: body)]
		body: Widget;
	}:
	{
		/// The created widget.
		[http(from: body, code: 201)]
		widget: Widget;
	}

	/// Gets the specified widget.
	[http(method: GET, path: "/widgets/{id}")]
	method getWidget
	{
		/// The widget ID.
		id: string;

		[http(from: header, name: If-None-Match)]
		ifNoneMatch: string;
	}:
	{
		/// The requested widget.
		[http(from: body, code: 200)]
		widget: Widget;

		[http(from: body, code: 304)]
		notModified: boolean;
	}

	/// Edits widget.
	[http(method: PUT, path: "/widgets/{id}")]
	method editWidget
	{
		/// The widget ID.
		id: string;

		/// The fields to return.
		[http(from: query)]
		fields: string;

		/// The operations.
		ops: object[];

		/// The new weight.
		[obsolete]
		weight: double;
	}:
	{
		/// The edited widget.
		[http(from: body, code: 200)]
		widget: Widget;

		/// The pending job.
		[http(from: body, code: 202)]
		job: WidgetJob;
	}

	/// Deletes the specified widget.
	[http(method: DELETE, path: "/widgets/{id}")]
	method deleteWidget
	{
		/// The widget ID.
		id: string;
	}:
	{
	}

	/// Gets the widget weight.
	[http(method: GET, path: "/widgets/{id}/weight")]
	method getWidgetWeight
	{
		/// The widget ID.
		id: string;
	}:
	{
		/// The widget weight.
		value: double;
	}

	/// Gets the specified widgets.
	[http(method: POST, path: "/widgets/get")]
	method getWidgetBatch
	{
		/// The IDs of the widgets to return.
		ids: string[];
	}:
	{
		/// The widget results.
		results: result<Widget>[];
	}

	/// A widget job.
	data WidgetJob
	{
		/// A unique identifier for the widget job.
		id: string;
	}

	/// A widget.
	data Widget
	{
		/// A unique identifier for the widget.
		id: string;

		/// The name of the widget.
		name: string;

		/// The weight of the widget.
		[obsolete]
		weight: double;
	}

	/// A preference.
	data Preference
	{
		boolean: boolean;

		booleans: boolean[];

		double: double;

		doubles: double[];

		integer: int32;

		integers: int32[];

		string: string;

		strings: string[];

		bytes: bytes;

		byteses: bytes[];

		widgetField: string;

		widgetFields: string[];

		widget: Widget;

		widgets: Widget[];

		result: result<Widget>;

		results: result<Widget>[];

		bigInteger: int64;

		bigIntegers: int64[];

		error: error;

		errors: error[];

		object: object;

		objects: object[];

		namedStrings: map<string>;

		namedWidgets: map<Widget>;
	}

	/// A result value or error.
	data WidgetResult
	{
		/// The value.
		value: Widget;

		/// The error.
		error: error;
	}

	/// An error.
	data Error
	{
		/// The error code.
		code: string;

		/// The error message.
		message: string;

		/// Advanced error details.
		details: object;

		/// The inner error.
		innerError: error;
	}

	data KitchenSink
	{
		data: ObsoleteData;

		value: string;
	}

	/// An obsolete DTO.
	[obsolete]
	data ObsoleteData
	{
		unused: boolean;
	}
}

# ExampleApi

Additional service remarks.

## Heading

Use a primary heading to indicate the member name.

# getWidgets

Additional method remarks.

# Widget

Additional DTO remarks.

## Heading

Only top-level headings need to match a member name.
